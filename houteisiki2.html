<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>JavaScriptによる計算</title>
</head>

<body>
	<h1>一次不定方程式</h1>
    <h2>ax + by = c の一次不定方程式の一般解</h2>
	<form name = "form1">
		a = <input type="text" id="astr" /> <br>
		b = <input type="text" id="bstr" /> <br> 
        c = <input type="text" id="cstr" /> <br> 
		<br>
		<button type="button" onclick="calc();"> 計算</button><br>
		<hr>
        x = <input type="text" id="xstr" /> <br>
        y = <input type="text" id="ystr" /> <br>
	</form>

	<script type="text/javascript">
		function calc() {
            var a = document.getElementById("astr").value;
            var b = document.getElementById("bstr").value;
            var c = document.getElementById("cstr").value;
            var r = a % b;
            var q = a / b | 0;
            var A = a;
            var B = b;

            //ユークリッドの互除法の最後のxとyの解
            var x0 = 1;
            var y0 = 0;

            //上の一個前の解
            var x1 = q;
            var y1 = 1;

            var s , t; //xとyの解
            var z = -1; //符号用

            while(r > 0){
                a = b;
                b = r;
                r = a % b;
                q = a / b | 0;

                t = x1;
                x1 = q*t + x0;
                x0 = t;

                s = y1;
                y1 = q*s + y0;
                y0 = s;
                z = -z;
            }

            

            form1.xstr.value = y0*z + " + " + y1 + "t";
            form1.ystr.value = -x0*z + " - " + x1 + "t";
		}
	</script>

</body>
</html>
