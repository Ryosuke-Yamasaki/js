<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>JavaScriptによる計算</title>
    </head>

    <body>
        <h1>シーザー暗号</h1>
        
        <form name = "form1">
            文字を入力→<input type="text" id="astr" /> <p>	
            <button type="button" onclick="calc();"> 実行</button> <br>
            <hr>
            <textarea cols="70" name="result" rows="10"></textarea><br>
        </form>

        <script type="text/javascript">
            function calc() {
                var a = document.getElementById("astr").value;
                var b = new Array ("A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","!");
                
                for (var i = 0; i < 27; i ++){
                    document.form1.result.value += "key=" + i + "\n";
                    for (var j = 0; j < a.length; j ++){
                        for (var k = 0; k < 27; k ++){
                            if (a.charAt(j) == b[k]){
                                var n = (((k - i) % 27) + 27) % 27;
                                document.form1.result.value += b[n];
                            }
                        }                      
                    }
                    document.form1.result.value += "\n\n";
                }
            }
        </script>

    </body>
</html>